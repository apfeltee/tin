
OPCODE(OP_POP, -1)
OPCODE(OP_RETURN, 0)
OPCODE(OP_CONSTVALUE, 1)
OPCODE(OP_CONSTLONG, 1)
OPCODE(OP_VALTRUE, 1)
OPCODE(OP_VALFALSE, 1)
OPCODE(OP_VALNULL, 1)
OPCODE(OP_VALARRAY, 1)
OPCODE(OP_VALOBJECT, 1)
OPCODE(OP_RANGE, -1)
OPCODE(OP_NEGATE, 0)
OPCODE(OP_NOT, 0)

OPCODE(OP_ADD, -1)
OPCODE(OP_SUBTRACT, -1)
OPCODE(OP_MULTIPLY, -1)
OPCODE(OP_POWER, -1)
OPCODE(OP_DIVIDE, -1)
OPCODE(OP_FLOOR_DIVIDE, -1)
OPCODE(OP_MOD, -1)
OPCODE(OP_BAND, -1)
OPCODE(OP_BOR, -1)
OPCODE(OP_BXOR, -1)
OPCODE(OP_LSHIFT, -1)
OPCODE(OP_RSHIFT, -1)
OPCODE(OP_BNOT, 0)

OPCODE(OP_EQUAL, -1)
OPCODE(OP_GREATER, -1)
OPCODE(OP_GREATER_EQUAL, -1)
OPCODE(OP_LESS, -1)
OPCODE(OP_LESS_EQUAL, -1)

OPCODE(OP_SET_GLOBAL, 0)
OPCODE(OP_GET_GLOBAL, 1)

OPCODE(OP_SET_LOCAL, 0)
OPCODE(OP_GET_LOCAL, 1)
OPCODE(OP_SET_LOCAL_LONG, 0)
OPCODE(OP_GET_LOCAL_LONG, 1)

OPCODE(OP_SET_PRIVATE, 0)
OPCODE(OP_GET_PRIVATE, 1)
OPCODE(OP_SET_PRIVATE_LONG, 0)
OPCODE(OP_GET_PRIVATE_LONG, 1)

OPCODE(OP_SET_UPVALUE, 0)
OPCODE(OP_GET_UPVALUE, 1)

OPCODE(OP_JUMP_IF_FALSE, -1)
OPCODE(OP_JUMP_IF_NULL, 0)
OPCODE(OP_JUMP_IF_NULL_POPPING, -1)
OPCODE(OP_JUMP, 0)
OPCODE(OP_JUMP_BACK, 0)
OPCODE(OP_AND, -1)
OPCODE(OP_OR, -1)
OPCODE(OP_NULL_OR, -1)

OPCODE(OP_CLOSURE, 1)
OPCODE(OP_CLOSE_UPVALUE, -1)

OPCODE(OP_CLASS, 1)
OPCODE(OP_FIELDGET, -1)
OPCODE(OP_FIELDSET, -2)

// [array] [index] -> [value]
OPCODE(OP_SUBSCRIPT_GET, -1)
// [array] [index] [value] -> [value]
OPCODE(OP_SUBSCRIPT_SET, -2)
// [array] [value] -> [array]
OPCODE(OP_PUSH_ARRAY_ELEMENT, -1)
// [map] [slot] [value] -> [map]
OPCODE(OP_PUSH_OBJECT_FIELD, -2)

// [class] [method] -> [class]
OPCODE(OP_METHOD, -1)
// [class] [method] -> [class]
OPCODE(OP_STATIC_FIELD, -1)
OPCODE(OP_DEFINE_FIELD, -1)
OPCODE(OP_INHERIT, 0)
// [instance] [class] -> [bool]
OPCODE(OP_IS, -1)
OPCODE(OP_GET_SUPER_METHOD, 0)

// Varying stack effect
OPCODE(OP_CALL, 0)
OPCODE(OP_INVOKE, 0)
OPCODE(OP_INVOKE_SUPER, 0)
OPCODE(OP_INVOKE_IGNORING, 0)
OPCODE(OP_INVOKE_SUPER_IGNORING, 0)
OPCODE(OP_POP_LOCALS, 0)
OPCODE(OP_VARARG, 0)

OPCODE(OP_REFERENCE_GLOBAL, 1)
OPCODE(OP_REFERENCE_PRIVATE, 0)
OPCODE(OP_REFERENCE_LOCAL, 1)
OPCODE(OP_REFERENCE_UPVALUE, 1)
OPCODE(OP_REFERENCE_FIELD, -1)

OPCODE(OP_SET_REFERENCE, -1)