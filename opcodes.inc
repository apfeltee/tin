
OPCODE(OP_POP, -1)
OPCODE(OP_RETURN, 0)
OPCODE(OP_CONSTVALUE, 1)
OPCODE(OP_CONSTLONG, 1)
OPCODE(OP_VALTRUE, 1)
OPCODE(OP_VALFALSE, 1)
OPCODE(OP_VALNULL, 1)
OPCODE(OP_VALARRAY, 1)
OPCODE(OP_VALOBJECT, 1)
OPCODE(OP_RANGE, -1)
OPCODE(OP_NEGATE, 0)
OPCODE(OP_NOT, 0)

OPCODE(OP_MATHADD, -1)
OPCODE(OP_MATHSUB, -1)
OPCODE(OP_MATHMULT, -1)
OPCODE(OP_MATHPOWER, -1)
OPCODE(OP_MATHDIV, -1)
OPCODE(OP_MATHFLOORDIV, -1)
OPCODE(OP_MATHMOD, -1)
OPCODE(OP_BINAND, -1)
OPCODE(OP_BINOR, -1)
OPCODE(OP_BINXOR, -1)
OPCODE(OP_LEFTSHIFT, -1)
OPCODE(OP_RIGHTSHIFT, -1)
OPCODE(OP_BINNOT, 0)

OPCODE(OP_EQUAL, -1)
OPCODE(OP_GREATERTHAN, -1)
OPCODE(OP_GREATEREQUAL, -1)
OPCODE(OP_LESSTHAN, -1)
OPCODE(OP_LESSEQUAL, -1)

OPCODE(OP_GLOBALSET, 0)
OPCODE(OP_GLOBALGET, 1)

OPCODE(OP_LOCALSET, 0)
OPCODE(OP_LOCALGET, 1)
OPCODE(OP_LOCALLONGSET, 0)
OPCODE(OP_LOCALLONGGET, 1)

OPCODE(OP_PRIVATESET, 0)
OPCODE(OP_PRIVATEGET, 1)
OPCODE(OP_PRIVATELONGSET, 0)
OPCODE(OP_PRIVATELONGGET, 1)

OPCODE(OP_UPVALSET, 0)
OPCODE(OP_UPVALGET, 1)

OPCODE(OP_JUMPIFFALSE, -1)
OPCODE(OP_JUMPIFNULL, 0)
OPCODE(OP_JUMPIFNULLPOP, -1)
OPCODE(OP_JUMPALWAYS, 0)
OPCODE(OP_JUMPBACK, 0)
OPCODE(OP_AND, -1)
OPCODE(OP_OR, -1)
OPCODE(OP_NULLOR, -1)

OPCODE(OP_MAKECLOSURE, 1)
OPCODE(OP_UPVALCLOSE, -1)

OPCODE(OP_MAKECLASS, 1)
OPCODE(OP_FIELDGET, -1)
OPCODE(OP_FIELDSET, -2)

// [array] [index] -> [value]
OPCODE(OP_GETINDEX, -1)
// [array] [index] [value] -> [value]
OPCODE(OP_SETINDEX, -2)
// [array] [value] -> [array]
OPCODE(OP_ARRAYPUSHVALUE, -1)
// [map] [slot] [value] -> [map]
OPCODE(OP_OBJECTPUSHFIELD, -2)

// [class] [method] -> [class]
OPCODE(OP_MAKEMETHOD, -1)
// [class] [method] -> [class]
OPCODE(OP_FIELDSTATIC, -1)
OPCODE(OP_FIELDDEFINE, -1)
OPCODE(OP_CLASSINHERIT, 0)
// [instance] [class] -> [bool]
OPCODE(OP_ISCLASS, -1)
OPCODE(OP_GETSUPERMETHOD, 0)

// Varying stack effect
OPCODE(OP_CALLFUNCTION, 0)
OPCODE(OP_INVOKEMETHOD, 0)
OPCODE(OP_INVOKESUPER, 0)
OPCODE(OP_INVOKEIGNORING, 0)
OPCODE(OP_INVOKESUPERIGNORING, 0)
OPCODE(OP_POPLOCALS, 0)
OPCODE(OP_VARARG, 0)

OPCODE(OP_REFGLOBAL, 1)
OPCODE(OP_REFPRIVATE, 0)
OPCODE(OP_REFLOCAL, 1)
OPCODE(OP_REFUPVAL, 1)
OPCODE(OP_REFFIELD, -1)

OPCODE(OP_REFSET, -1)